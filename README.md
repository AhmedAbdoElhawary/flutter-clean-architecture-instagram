# flutter-clean-architecture-instagram

Instagram clean architecture using Flutter and Firebase ( frontend & backend ) with almost all functionalities

## If you want to work with me, you can find me here:

- <a href="https://www.linkedin.com/in/ahmedabdoelhawary"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg" width="40"></a>

### Notes 
* I didn't publish the keys such as messaging, agora, firebase web, or even google-services.json. So follow the steps (3. Setup the app) to add them.
* Right now, I am working on cleaning up the code and web version

## Features

* Support
  * Arabic & English language
  * Dark & Light theme 

* Custom gallery & camera & video display like Instagram "my package" [image picker plus ](https://github.com/AhmedAbdoElhawary/image_picker_plus.git)
 <a href="https://pub.dev/packages/image_picker_plus"><img src="https://img.shields.io/pub/v/image_picker_plus.svg" width="80"></a>


* Post features
  * Support images & videos 
  * Support multi images in one post or mixin with them
  * Like on a post and view all like with their profiles
  * Comment on a post and replay on a (comment & replay)
    * Like on a comment & replay and view all like with their profiles
  * Edit post
  * Delete post
  * Unfollow the user of the post

* My Timelines Screen
  * Custom posts & stories feed based on followers & followings
  * Refresh the posts info
  * Loading more posts (it displays five-by-five posts)

* All Timelines Screen
  * View all user's posts (images & videos)
  * Change the screen from a grid layout to a timeline layout

* Search for a user based on username

* Video Screen 
  * It displays all user's videos with almost post features
  * Control of sound & play
  
* Profile Screen
  * Follow / Unfollow Users
  * Display images & videos in a separate view
  * Change the screen from a grid layout to a timeline layout
  * Edit profile info
  
* Chat Screen
  * Chat with any user
  * Group chat
  * Support
    * Text
    * Image (gallery & camera)
    * Voice
    * One-to-one video call
    * Group video call

* Push Notifications
* Send posts to chats

## SnapShots for web
### You can see the screen record from here [google drive](https://drive.google.com/file/d/11LyKgpP4kvnP1yLgykwpPj1t7euEFJjK/view?usp=sharing)

<p>
<img src="https://user-images.githubusercontent.com/88978546/221562376-b44f5012-fa11-4bbf-9060-09cf8bb6397c.png"   width="45%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/221562397-9998296f-2819-4b76-858e-0dcc18aed4d2.png"   width="45%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/221562415-7d2e150a-833e-4020-9af4-b82864522d59.png"   width="45%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/221562430-d4d250a0-e3c5-4b29-8376-08e92ea2b095.png"   width="45%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/221563596-6b1ba30d-aecb-409e-a5a5-7fbf7f979a0a.png"   width="45%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/221564852-459da62f-99b7-4104-98dc-67cb18a4cf4e.png"   width="45%" height="50%">

</p>

## SnapShots

### |--------- Sign page ----------|------- Welcome page --------|-------------- Stories ----------|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193092118-a6e5ecfb-6ee0-42d2-9a40-b9616bee692d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193092126-9c23eb3b-b6e7-4789-ab1b-a0e9cb6ab5b4.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193092135-05d3f4d5-9246-40a2-98e4-0432a54be598.gif"   width="32%" height="50%">
</p>

### |-------- Home screen --------|------ Comment screen ------|--------  Create story ----------|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193121221-4b31e55d-0add-4aef-9c3a-5f6b716674aa.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093024-2db7c6cc-f633-4c87-9597-f4ff6ea8ef3f.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093346-1128eff3-bff8-4674-985c-bd3b4c37890d.gif"  width="32%" height="50%">
</p>

### |--------- Share post --------- |--------- Videos page ---------|---- personal profile page ---|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193093277-b499a2ea-9834-4a0d-9558-1f6a8566c424.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257900-43ff2295-06bd-4193-b6cc-a8dd34fb66ff.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257186-613a59c8-d5cc-40a1-b3aa-82c4545eb3a9.gif"   width="32%" height="50%">

</p>

### |---- Change app theme -----|------- Logout & Login --------|-- Change app language -- |

<p>
<img src="https://user-images.githubusercontent.com/88978546/193093794-ff844bb8-c71e-42a0-b946-90e9187a833f.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093811-1c150b97-627b-4680-aded-6e35793c3ccb.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093824-229f21e9-e7d0-4498-b430-39441c9007d2.gif"   width="32%" height="50%">

</p>

### |------ Following users -------|----- Unfollow all users ------|---- Change profile image ----|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193093834-d8d7ed49-d703-4a2e-8f40-7404b3b57e27.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093845-90ef0e55-1f62-4696-831a-e021e780004d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093861-babf4599-fc5e-46fa-87ad-7958a9c34a67.gif"   width="32%" height="50%">
</p>

### |----- All users time line ------|----- Search about user ------|---------- Create post ------- |
<p>
<img src="https://user-images.githubusercontent.com/88978546/193094015-3f8f2186-48b8-49cd-ad16-0efb65223f3c.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094159-1cb6a582-7b70-464e-9c4e-41c6c03eabaf.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193127197-cd45b689-68f3-48b3-9279-04ad996e10ca.gif"   width="32%" height="50%">
</p>

### |--------  Create video ---------|---- Show created video -----|---- share created video -----|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193094411-2ea2f0a8-131e-41d7-96eb-9b2fe348e6a5.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094453-79d480b3-1774-41c7-853c-eb537748b74d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094469-21358a55-443c-4d48-8ecd-95d0095d2b25.gif"   width="32%" height="50%">

</p>


### |----------- Edit post ----------|-------- Notifications ---------|-------- Activity page --------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193094494-8cc71b18-4f08-4535-be25-6d5e2624c5ab.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094512-a09a0b7a-aeff-45bc-b3e6-d93b271c94ef.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094534-d66b3819-b726-47c5-897c-476a27a84a96.gif"   width="32%" height="50%">
</p>

### |--------------------------- Chatting ----------------------------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/173257255-4fdd1318-3e21-47e4-bc4b-3f3809dc5b9c.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257249-3aef7bd3-8174-45ce-9af9-73696ff20c8d.gif"   width="32%" height="50%">
</p>

### |-------------------------- Video call ---------------------------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193158603-31563c80-91c5-4044-a984-f4067436bb41.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193158607-e559285c-3fa3-461a-b0ab-a0d4737189a7.gif"   width="32%" height="50%">
</p>

## Getting started

#### 1. [Setup Flutter](https://flutter.io/setup/)

#### 2. Clone the repo

```sh
$ git clone https://github.com/AhmedAbdoElhawary/flutter-clean-architecture-instagram
$ cd flutter-clean-architecture-instagram/
```

## 3. Setup the app
### I made the setup with more details and visuals to make it easy for any level to set up the app.
<details>
  <summary>Click to expand</summary>

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">

<h4 id="third-connection-with-firebase">.Connection with Firebase</h4>
<ol>
<li>Run this line in your PowerShell as administrator:</li>
</ol>
<pre class=" language-javascript"><code class="prism  language-javascript">Set<span class="token operator">-</span>ExecutionPolicy RemoteSigned 
</code></pre>
<ul>
<li>Then, press <code>y</code> to comfirm</li>
</ul>
<ol start="2">
<li>We need to log in with Firebase. Run this line:</li>
</ol>
<pre class=" language-bash"><code class="prism  language-bash">firebase login
</code></pre>
<ul>
<li>Then, press <code>y</code> to comfirm</li>
<li>Then, choose the account that you want to create Firebase services with it.</li>
<li>Then, press Allow</li>
</ul>
<ol start="3">
<li>In PowerShell, write the disk that the project is exciting. For example, I have <strong>InstaAwesome</strong> in D. So, I will write it Like this:</li>
</ol>
<pre class=" language-bash"><code class="prism  language-bash">d:
</code></pre>
<ol start="4">
<li>Add the following line, replacing <code>&lt;path-to-project-root&gt;</code> with the path to the project root:</li>
</ol>
<pre class=" language-bash"><code class="prism  language-bash"><span class="token function">cd</span> <span class="token operator">&lt;</span>path-to-project-root<span class="token operator">&gt;</span>
</code></pre>
<ol start="5">
<li>Then, run this line:</li>
</ol>
<pre class=" language-bash"><code class="prism  language-bash">dart pub global activate flutterfire_cli
</code></pre>
<ol start="6">
<li>Then, run this line:</li>
</ol>
<pre class=" language-bash"><code class="prism  language-bash">flutterfire configure
</code></pre>
<ul>
<li>
<p>Select <code>Create a new project</code> and press enter<br>
<a href="https://ibb.co/MRr4cCH"><img src="https://i.ibb.co/VvRZgqG/Screenshot-91.png" alt="Screenshot-91" border="0"></a></p>
</li>
<li>
<p>Write project name with this <strong>format</strong> <code>my-cool-project</code><br>
<a href="https://ibb.co/8NXDw82"><img src="https://i.ibb.co/XjVZPJp/Screenshot-92.png" alt="Screenshot-92" border="0"></a></p>
</li>
<li>
<p>Select <code>android</code>, <code>ios</code>, and <code>web</code>. dis select <code>macos</code> right now, And press Enter<br>
<a href="https://ibb.co/9wgSwgY"><img src="https://i.ibb.co/YDQwDQj/Screenshot-93.png" alt="Screenshot-93" border="0"></a></p>
</li>
</ul>
<h5 id="enable-firebase-services">Enable Firebase services</h5>
<p>Enable those services: <code>Authentication</code>, <code>Firestor Database</code>, <code>Storage</code>, and <code>Messaging</code>. And take the ‘Cloud Messaging server key’ copy from ‘Cloud Messaging’ in ‘Project settings’.</p>
<ol>
<li>
<p>Enable <code>Email/Password</code> in <code>Authentication</code>:<br>
<a href="https://ibb.co/chf7r8N"><img src="https://i.ibb.co/9HKCr4q/Screenshot-94.png" alt="Screenshot-94" border="0"></a><br>
<a href="https://ibb.co/824JWyB"><img src="https://i.ibb.co/J2FNfYd/Screenshot-95.png" alt="Screenshot-95" border="0"></a><br>
<a href="https://ibb.co/xGLrH7K"><img src="https://i.ibb.co/P4jVQ6s/Screenshot-98.png" alt="Screenshot-98" border="0"></a></p>
</li>
<li>
<p>Enable <code>Firestor Database</code>:<br>
<a href="https://ibb.co/Y8s8Wpg"><img src="https://i.ibb.co/jGXG5gt/Screenshot-99.png" alt="Screenshot-99" border="0"></a><br>
<a href="https://ibb.co/QQRvHwZ"><img src="https://i.ibb.co/bmZ5v9x/Screenshot-100.png" alt="Screenshot-100" border="0"></a><br>
<a href="https://ibb.co/LS6D9hx"><img src="https://i.ibb.co/TcRDPq4/Screenshot-101.png" alt="Screenshot-101" border="0"></a></p>
</li>
</ol>
<ul>
<li>Change <code>allow read, write: if false;</code> to <code>allow read, write: if true;</code><br>
<a href="https://ibb.co/BCpyF9d"><img src="https://i.ibb.co/Vq1g5sr/Screenshot-102.png" alt="Screenshot-102" border="0"></a><br>
<a href="https://ibb.co/q92s51S"><img src="https://i.ibb.co/jGjMR4N/Screenshot-103.png" alt="Screenshot-103" border="0"></a></li>
</ul>
<ol start="3">
<li>
<p>Enable <code>Storage</code> the same as <code>Firebase Database</code>:<br>
<a href="https://ibb.co/KyNjsB4"><img src="https://i.ibb.co/PCTZWJX/Screenshot-104.png" alt="Screenshot-104" border="0"></a><br>
<a href="https://ibb.co/MCV8qNc"><img src="https://i.ibb.co/875zF8r/Screenshot-105.png" alt="Screenshot-105" border="0"></a><br>
<a href="https://ibb.co/nbcJxb0"><img src="https://i.ibb.co/W6yJm63/Screenshot-106.png" alt="Screenshot-106" border="0"></a></p>
</li>
<li>
<p>Enable <code>Messaging</code><br>
<a href="https://ibb.co/Yf7Dp8T"><img src="https://i.ibb.co/WBWDgFp/Screenshot-107.png" alt="Screenshot-107" border="0"></a><br>
<a href="https://ibb.co/KG6v7YY"><img src="https://i.ibb.co/b319Lxx/Screenshot-108.png" alt="Screenshot-108" border="0"></a><br>
<a href="https://ibb.co/DVDD2Tm"><img src="https://i.ibb.co/r7GGrNq/Screenshot-110.png" alt="Screenshot-110" border="0"></a><br>
<a href="https://ibb.co/b1Dwthz"><img src="https://i.ibb.co/7vLMhc2/Screenshot-111.png" alt="Screenshot-111" border="0"></a><br>
<a href="https://ibb.co/8X75M0L"><img src="https://i.ibb.co/SJ3nNP4/Screenshot-112.png" alt="Screenshot-112" border="0"></a></p>
</li>
<li>
<p>Enable <code>Messaging Server key</code><br>
<a href="https://ibb.co/LgBd4RX"><img src="https://i.ibb.co/7pBt7Cd/Screenshot-109.png" alt="Screenshot-109" border="0"></a><br>
<a href="https://ibb.co/jG47rSR"><img src="https://i.ibb.co/nfkhLFC/Screenshot-114.png" alt="Screenshot-114" border="0"></a><br>
<a href="https://ibb.co/rHMXfhB"><img src="https://i.ibb.co/yq5xBCz/Screenshot-115.png" alt="Screenshot-115" border="0"></a></p>
</li>
</ol>
<ul>
<li>
<p>Take the server key copy:<br>
<a href="https://ibb.co/XYtMfwJ"><img src="https://i.ibb.co/NTKbg4Y/Screenshot-118.png" alt="Screenshot-118" border="0"></a></p>
</li>
<li>
<p>Then, past the key in the project <code>lib\core\utility\private_keys.dart</code> in <code>notificationKey</code> after <code>=</code> like this:<br>
<a href="https://ibb.co/K5KPG6S"><img src="https://i.ibb.co/PrDLYx0/Screenshot-123.png" alt="Screenshot-123" border="0"></a></p>
</li>
</ul>
<h4 id="enable-agora-services">.Connection with Agora</h4>
<p>Agora is a real-time communication platform that provides a set of APIs and SDKs for adding voice↳</p>
<h5 id="step-1-create-an-agora-account-and-get-a-test-key">Step 1: Create an Agora Account and Get a Test Key</h5>
<p>Before we can connect our Flutter app with Agora, we need to create an Agora account and get a test key. Here are the steps to get an Agora test key:</p>
<ol>
<li>
<p>Go to the <a href="https://www.agora.io/en/">Agora website</a> and sign up for an account.</p>
</li>
<li>
<p>After you have signed up, log in to the <a href="https://console.agora.io/projects">Agora Project Management</a> with your account credentials.<br>
<a href="https://ibb.co/N7jJ6sj"><img src="https://i.ibb.co/1bqPfLq/Screenshot-124.png" alt="Screenshot-124" border="0"></a></p>
</li>
<li>
<p>Click on the “Create a Project”<br>
<a href="https://ibb.co/Z1w1pvs"><img src="https://i.ibb.co/CsXs34d/Screenshot-125.png" alt="Screenshot-125" border="0"></a></p>
</li>
<li>
<p>Enter a name for your project and select any Use Case.</p>
</li>
<li>
<p>Select <code>Testing mode: APP ID</code></p>
</li>
<li>
<p>Press <code>Sumbit</code><br>
<a href="https://ibb.co/TwkmdGM"><img src="https://i.ibb.co/yNXW7CF/Screenshot-126.png" alt="Screenshot-126" border="0"></a></p>
</li>
<li>
<p>Take <code>App ID</code> copy<br>
<a href="https://ibb.co/7z1QCdd"><img src="https://i.ibb.co/b3KFmMM/Screenshot-127.png" alt="Screenshot-127" border="0"></a></p>
</li>
<li>
<p>Past it in <code>agoraAppId</code> variable.<br>
<a href="https://ibb.co/tMXmPw1"><img src="https://i.ibb.co/PZQmzsV/Screenshot-128.png" alt="Screenshot-128" border="0"></a></p>
</li>
</ol>
<h4 id="congratulations-the-project-is-ready.">Congratulations! The project is ready.</h4>
</div>
</body>

</html>

</details>



## What's Next?
 - [x] Notifications for likes, comments, follows, etc
 - [x] Caching of Profiles, Images, Etc.
 - [x] Calling video and voice in chat
 - [x] Create a group chat
 - [x] Calling video and voice in group chat
 - [x] Send posts to chats
 - [x] control in the dimension of selected images & video from the gallery
 - [x] Custom gallery display
 - [x] Improve display loading of posts when opening the app
 - [x] share post
 - [x] Make like, comment, and share of animation container post touchy when long pressed on post
 - [x] Make it stable for the web
 - [ ] Clean up more code



## How to Contribute
1. Fork the project
2. Create your feature branch (git checkout -b my-new-feature)
3. Make required changes and commit (git commit -am 'Add some feature')
4. Push to the branch (git push origin my-new-feature)
5. Create a new Pull Request

