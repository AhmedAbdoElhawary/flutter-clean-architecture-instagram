# flutter-clean-architecture-instagram

Instagram clean architecture using flutter and firebase as ( frontend & backend ) with almost all functionalities

## You can support me.
 <a href="https://www.paypal.com/paypalme/AhmedAbdoElhawary"><img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-medium.png"></a>

## Contact

You will find me on 

<a href="https://www.linkedin.com/in/ahmedabdoelhawary"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg" width="40"></a>


### Notes 
* I didn't publish the keys such as messaging, agora, firebase web, or even google-services.json. So follow the steps (3. Setup the app) to add them.

## Features

* Support
  * Arabic & English language
  * Dark & Light theme 

* Custome gallery & camera & video display like Instagram (my package) [image picker plus ](https://github.com/AhmedAbdoElhawary/image_picker_plus.git)
 <a href="https://pub.dev/packages/image_picker_plus"><img src="https://img.shields.io/pub/v/image_picker_plus.svg" width="80"></a>


* Post features
  * Support images & videos 
  * Support multi images in one post or mixin with them
  * Like on a post and view all likes with their profiles
  * Comment on a post and replay on a (comment & replay)
    * Like on a comment & replay and view all likes with their profiles
  * Edit post
  * Delete post
  * Unfollow the user of the post

* My Timelines Screen
  * Custom posts & stories feed based on followers & followings
  * Refresh the posts info
  * Loading more posts (it displays five by five posts)

* All Timelines Screen
  * View all user's posts (images & videos)
  * Change screen from a grid layout to a timeline layout

* Search for a user based on username

* Video Screen 
  * It displays all user's videos with almost post features
  * Control of sound & play
  
* Profile Screen
  * Follow / Unfollow Users
  * Display images & videos in a separate view
  * Change screen from a grid layout to a timeline layout
  * Edit profile info
  
* Chat Screen
  * Chat with any user
  * Group chat
  * Support
    * Text
    * Image (gallery & camera)
    * Voice
    * One-to-one video call
    * Group video call

* Push Notifications
* Send post to chats


## SnapShots

### |--------- Sign page ----------|------- Welcome page --------|-------------- Stories ----------|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193092118-a6e5ecfb-6ee0-42d2-9a40-b9616bee692d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193092126-9c23eb3b-b6e7-4789-ab1b-a0e9cb6ab5b4.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193092135-05d3f4d5-9246-40a2-98e4-0432a54be598.gif"   width="32%" height="50%">
</p>

### |-------- Home screen --------|------ Comment screen ------|--------  Create story ----------|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193121221-4b31e55d-0add-4aef-9c3a-5f6b716674aa.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093024-2db7c6cc-f633-4c87-9597-f4ff6ea8ef3f.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093346-1128eff3-bff8-4674-985c-bd3b4c37890d.gif"  width="32%" height="50%">
</p>

### |--------- Share post --------- |--------- Videos page ---------|---- personal profile page ---|
<p>
<img src="https://user-images.githubusercontent.com/88978546/193093277-b499a2ea-9834-4a0d-9558-1f6a8566c424.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257900-43ff2295-06bd-4193-b6cc-a8dd34fb66ff.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257186-613a59c8-d5cc-40a1-b3aa-82c4545eb3a9.gif"   width="32%" height="50%">

</p>

### |---- Change app theme -----|------- Logout & Login --------|-- Change app language -- |

<p>
<img src="https://user-images.githubusercontent.com/88978546/193093794-ff844bb8-c71e-42a0-b946-90e9187a833f.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093811-1c150b97-627b-4680-aded-6e35793c3ccb.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093824-229f21e9-e7d0-4498-b430-39441c9007d2.gif"   width="32%" height="50%">

</p>

### |------ Following users -------|----- Unfollow all users ------|---- Change profile image ----|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193093834-d8d7ed49-d703-4a2e-8f40-7404b3b57e27.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093845-90ef0e55-1f62-4696-831a-e021e780004d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193093861-babf4599-fc5e-46fa-87ad-7958a9c34a67.gif"   width="32%" height="50%">
</p>

### |----- All users time line ------|----- Search about user ------|---------- Create post ------- |
<p>
<img src="https://user-images.githubusercontent.com/88978546/193094015-3f8f2186-48b8-49cd-ad16-0efb65223f3c.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094159-1cb6a582-7b70-464e-9c4e-41c6c03eabaf.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193127197-cd45b689-68f3-48b3-9279-04ad996e10ca.gif"   width="32%" height="50%">
</p>

### |--------  Create video ---------|---- Show created video -----|---- share created video -----|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193094411-2ea2f0a8-131e-41d7-96eb-9b2fe348e6a5.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094453-79d480b3-1774-41c7-853c-eb537748b74d.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094469-21358a55-443c-4d48-8ecd-95d0095d2b25.gif"   width="32%" height="50%">

</p>


### |----------- Edit post ----------|-------- Notifications ---------|-------- Activity page --------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193094494-8cc71b18-4f08-4535-be25-6d5e2624c5ab.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094512-a09a0b7a-aeff-45bc-b3e6-d93b271c94ef.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193094534-d66b3819-b726-47c5-897c-476a27a84a96.gif"   width="32%" height="50%">
</p>

### |--------------------------- Chatting ----------------------------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/173257255-4fdd1318-3e21-47e4-bc4b-3f3809dc5b9c.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/173257249-3aef7bd3-8174-45ce-9af9-73696ff20c8d.gif"   width="32%" height="50%">
</p>

### |-------------------------- Video call ---------------------------|

<p>
<img src="https://user-images.githubusercontent.com/88978546/193158603-31563c80-91c5-4044-a984-f4067436bb41.gif"   width="32%" height="50%">
<img src="https://user-images.githubusercontent.com/88978546/193158607-e559285c-3fa3-461a-b0ab-a0d4737189a7.gif"   width="32%" height="50%">
</p>

## Getting started

#### 1. [Setup Flutter](https://flutter.io/setup/)

#### 2. Clone the repo

```sh
$ git clone https://github.com/AhmedAbdoElhawary/flutter-clean-architecture-instagram
$ cd flutter-clean-architecture-instagram/
```

## 3. Setup the app

### . Setup the firebase services


1. You'll need to create a Firebase instance. Follow the instructions at https://console.firebase.google.com.
2. Once your Firebase instance is created, you'll need to enable Email/Password authentication.

* Go to the Firebase Console for your new instance.
* Click "Authentication" in the left-hand menu
* Click the "sign-in method" tab
* Click "Email/Password" and enable it

4. Enable the Cloud Firestore
* Go to the Firebase Console
* Click "Firebase Database" in the left-hand menu
* Click on the "Create Database" button
* Select "Start in production mode" and "Enable"

5. Enable the Firebase Storage
* Go to the Firebase Console
* Click "Storage" in the left-hand menu
* Click on the "Create Storage" button
* Select "Start in production mode" and "Enable"


6. Add a Flutter app with firebase

* Recently google add to the firebase method to connect with your flutter app directly without making android and ios separately.
* Click "Project Overview" in the left-hand menu
* Click on the flutter icon button
* Just follow the steps carefully
* When you run flutterfire configure --project=^project name^ support android, ios, and web

5. Enable the Firebase Messaging
* Go to the Firebase Console
* Click "Messaging" in the left-hand menu
* Click on the android icon button
* Click on create your first campaign
* Now go to project settings and cloud Messaging and copy the server key in Cloud Messaging API
* Search for notificationKey in this project by a tap on control+shift+f in the IDE and set the server key as a string like this "key=^server key^" 

### . Setup agora
* Go to https://www.agora.io/en/ and sign in
* Go to console by clicking on the account icon
* Click on Project Management in the left-hand menu
* Click on Create New Project

* Now the most important step in the agora
  * Select "Testing mode: APP ID" not "secured mode" (if you select secured mode, It will be one channel available and you can't make another one in your app. in other words you can't make a private channel between two users or more, all users that use your app will go to the same calling room)

*  Set project name and Social/Chatroom in Use Case and click on submit

* Click on config on the project and copy App ID

* Search about agoraAppId in this project by a tap on control+shift+f in the IDE and set the App ID as a string
 

## What's Next?
 - [x] Notifications for likes, comments, follows, etc
 - [x] Caching of Profiles, Images, Etc.
 - [x] Calling video and voice in chat
 - [x] Create group chat
 - [x] Calling video and voice in group chat
 - [ ] Add stickers on chat
 - [x] Send posts to chats
 - [x] control in the dimension of selected image & video from the gallery
 - [x] Custom gallery display
 - [x] Improve display loading of posts when opening the app
 - [ ] Turn off commenting on a post
 - [ ] Hide Like count of a post
 - [x] share post
 - [x] Make like, comment, and share of animation container post touchy when long pressed on post
 - [ ] Create store screens
 - [ ] Make it stable for web & desktop
 - [ ] Create a live
 - [ ] Clean-up more code



## How to Contribute
1. Fork the project
2. Create your feature branch (git checkout -b my-new-feature)
3. Make required changes and commit (git commit -am 'Add some feature')
4. Push to the branch (git push origin my-new-feature)
5. Create a new Pull Request


